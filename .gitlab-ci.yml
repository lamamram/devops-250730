# image docker du pipeline (pour chaque job) par défaut
image: python:3.13-slim-bookworm
# nom arbitraire d'un job
test:
  # association entre un job et un/des runner(s)
  tags:
    - formation
  # commandes de préparation avant l'exécution du job
  before_script:
    - python3 -m venv v_env
    - source v_env/bin/activate
    - pip3 install -r requirements.txt
    - pip3 install -r requirements-dev.txt
  # script à exécuter
  script:
    - cd app
    - pytest -v -m "not e2e"